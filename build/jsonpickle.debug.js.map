{"version":3,"file":null,"sources":["../tags.js","../__babelHelpers__","../util.js","../handlers.js","../unpickler.js","../pickler.js","../main.js"],"sourcesContent":["export const tags = {\n    ID: 'py/id',\n    OBJECT: 'py/object',\n    TYPE: 'py/type',\n    REPR: 'py/repr',\n    REF: 'py/ref',\n    TUPLE: 'py/tuple',\n    SET: 'py/set',\n    SEQ: 'py/seq',\n    STATE: 'py/state',\n    JSON_KEY: 'json://',\n};\ntags.RESERVED = [tags.ID, tags.OBJECT,\n                 tags.TYPE, tags.REPR,\n                 tags.REF, tags.TUPLE,\n                 tags.SET, tags.SEQ,\n                 tags.STATE, tags.JSON_KEY];\ntags.PY_CLASS = '_py_class';\n","var babelHelpers = {};\nexport var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n\nexport var jsx = function () {\n  var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  return function createRawReactElement(type, props, key, children) {\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {};\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  };\n}();\n\nexport var asyncToGenerator = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new Promise(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return Promise.resolve(value).then(function (value) {\n            return step(\"next\", value);\n          }, function (err) {\n            return step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n};\n\nexport var classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nexport var createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexport var defineEnumerableProperties = function (obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  return obj;\n};\n\nexport var defaults = function (obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n};\n\nexport var defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nexport var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexport var get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nexport var inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexport var _instanceof = function (left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n};\n\nexport var interopRequireDefault = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n};\n\nexport var interopRequireWildcard = function (obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n};\n\nexport var newArrowCheck = function (innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n};\n\nexport var objectDestructuringEmpty = function (obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n};\n\nexport var objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nexport var possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nexport var selfGlobal = typeof global === \"undefined\" ? self : global;\n\nexport var set = function set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n};\n\nexport var slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nexport var slicedToArrayLoose = function (arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n};\n\nexport var taggedTemplateLiteral = function (strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n};\n\nexport var taggedTemplateLiteralLoose = function (strings, raw) {\n  strings.raw = raw;\n  return strings;\n};\n\nexport var temporalRef = function (val, name, undef) {\n  if (val === undef) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n};\n\nexport var temporalUndefined = {};\n\nexport var toArray = function (arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n};\n\nexport var toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nbabelHelpers;\n\nexport { _typeof as typeof, _extends as extends, _instanceof as instanceof }","import { tags } from './tags';\n\nexport const util = {};\n\nutil.merge = function merge(destination, source) {\n    if (source === undefined) {\n        return destination;\n    }\n    for (const prop in source) {\n        if (!({}.hasOwnProperty.call(source, prop))) {\n            continue;\n        }\n        destination[prop] = source[prop];\n    }\n    return destination;\n};\n\nutil.PRIMITIVES = ['string', 'number', 'boolean'];\n\n/* from jsonpickle.util */\n// to_do...\nutil.is_type = (obj) => false;\n\n// same as dictionary in JS...\nutil.is_object = (obj) => util.is_dictionary(obj);\n\nutil.is_primitive = (obj) => {\n    if (obj === undefined || obj == null) {\n        return true;\n    }\n    if (util.PRIMITIVES.indexOf(typeof obj) !== -1) {\n        return true;\n    }\n    return false;\n};\n\n\nutil.is_dictionary = (obj) => ((typeof obj === 'object') && (obj !== null));\n\nutil.is_sequence = (obj) => (util.is_list(obj) || util.is_set(obj) || util.is_tuple(obj));\n\nutil.is_list = (obj) => (obj instanceof Array);\n\n// to_do...\nutil.is_set = (obj) => false;\nutil.is_tuple = (obj) => false;\nutil.is_dictionary_subclass = (obj) => false;\nutil.is_sequence_subclass = (obj) => false;\nutil.is_noncomplex = (obj) => false;\n\nutil.is_function = (obj) => (typeof obj === 'function');\nutil.is_module = (obj) => false;\n\nutil.is_picklable = (name, value) => {\n    if (tags.RESERVED.indexOf(name) !== -1) {\n        return false;\n    }\n    if (util.is_function(value)) {\n        return false;\n    } else {\n        return true;\n    }\n};\nutil.is_installed = (module) => true; // ???\n\nutil.is_list_like = (obj) => util.is_list(obj);\n","export const handlers = {\n    'fractions.Fraction': {\n        restore: (obj) => obj._numerator / obj._denominator,\n    },\n};\n","/**\n * jsonPickle/javascript/unpickler -- Conversion from music21p jsonpickle streams\n *\n * Copyright (c) 2013-14, Michael Scott Cuthbert and cuthbertLab\n * Based on music21 (=music21p), Copyright (c) 2006â€“14, Michael Scott Cuthbert and cuthbertLab\n *\n * usage:\n *\n * js_obj = unpickler.decode(json_string);\n *\n */\n\nimport { util } from './util';\nimport { handlers } from './handlers';\nimport { tags } from './tags';\n\nexport const unpickler = {};\n\nunpickler.decode = function decode(string, user_handlers, options) {\n    const params = {\n        keys: false,\n        safe: false,\n        reset: true,\n        backend: JSON,\n    };\n\n    util.merge(params, options);\n\n    const use_handlers = {};\n    util.merge(use_handlers, handlers); // don't screw up default handlers...\n    util.merge(use_handlers, user_handlers);\n\n    let context;\n    // backend does not do anything -- it is there for\n    // compat with py-JSON-Pickle\n    if (params.context === undefined) {\n        const unpickler_options = {\n            keys: params.keys,\n            backend: params.backend,\n            safe: params.safe,\n        };\n        context = new unpickler.Unpickler(unpickler_options, use_handlers);\n    } else {\n        context = params.context;\n    }\n    const jsonObj = params.backend.parse(string);\n    return context.restore(jsonObj, params.reset);\n};\n\nexport class Unpickler {\n    constructor(options, handlers) {\n        const params = {\n            keys: false,\n            safe: false,\n        };\n        util.merge(params, options);\n        this.keys = params.keys;\n        this.safe = params.safe;\n\n        this.handlers = handlers;\n        // obsolete...\n        // this._namedict = {};\n\n        // The namestack grows whenever we recurse into a child object\n        this._namestack = [];\n\n        // Maps objects to their index in the _objs list\n        this._obj_to_idx = {};\n        this._objs = [];\n    }\n\n    reset() {\n        // this._namedict = {};\n        this._namestack = [];\n        this._obj_to_idx = {};\n        this._objs = [];\n    }\n\n    /**\n     * Restores a flattened object to a JavaScript representation\n     * as close to the original python object as possible.\n     *\n     */\n    restore(obj, reset) {\n        if (reset) {\n            this.reset();\n        }\n        return this._restore(obj);\n    }\n\n    _restore(obj) {\n        const has_tag = unpickler.has_tag;\n        let restoreMeth = (obj) => obj;\n\n        if (has_tag(obj, tags.ID)) {\n            restoreMeth = this._restore_id.bind(this);\n        } else if (has_tag(obj, tags.REF)) {\n            // backwards compat. not supported\n        } else if (has_tag(obj, tags.TYPE)) {\n            restoreMeth = this._restore_type.bind(this);\n        } else if (has_tag(obj, tags.REPR)) {\n            // backwards compat. not supported\n        } else if (has_tag(obj, tags.OBJECT)) {\n            restoreMeth = this._restore_object.bind(this);\n        } else if (has_tag(obj, tags.TUPLE)) {\n            restoreMeth = this._restore_tuple.bind(this);\n        } else if (has_tag(obj, tags.SET)) {\n            restoreMeth = this._restore_set.bind(this);\n        } else if (util.is_list(obj)) {\n            restoreMeth = this._restore_list.bind(this);\n        } else if (util.is_dictionary(obj)) {\n            restoreMeth = this._restore_dict.bind(this);\n        } else {\n            // map to self\n        }\n        return restoreMeth(obj);\n    }\n\n    _restore_id(obj) {\n        return this._objs[obj[tags.ID]];\n    }\n\n    _restore_type(obj) {\n        const typeref = unpickler.loadclass(obj[tags.TYPE]);\n        if (typeref === undefined) {\n            return obj;\n        } else {\n            return typeref;\n        }\n    }\n\n    _restore_object(obj) {\n        const class_name = obj[tags.OBJECT];\n        const handler = this.handlers[class_name];\n        if (handler !== undefined && handler.restore !== undefined) {\n            const instance = handler.restore(obj);\n            instance[tags.PY_CLASS] = class_name;\n            return this._mkref(instance);\n        } else {\n            const cls = unpickler.loadclass(class_name);\n            if (cls === undefined) {\n                obj[tags.PY_CLASS] = class_name;\n                return this._mkref(obj);\n            }\n            const instance = this._restore_object_instance(obj, cls);\n            instance[tags.PY_CLASS] = class_name;\n            if (handler !== undefined && handler.post_restore !== undefined) {\n                return handler.post_restore(instance);\n            } else {\n                return instance;\n            }\n        }\n    }\n    _loadfactory(obj) {\n        const default_factory = obj.default_factory;\n        if (default_factory === undefined) {\n            return undefined;\n        } else {\n            obj.default_factory = undefined;\n            return this._restore(default_factory);\n        }\n    }\n\n\n    _restore_object_instance(obj, cls) {\n        // var factory = this._loadfactory(obj);\n        let args = unpickler.getargs(obj);\n        if (args.length > 0) {\n            args = this._restore(args);\n        }\n        // not using factory... does not seem to apply to JS\n        const instance = unpickler.construct(cls, args);\n        this._mkref(instance);\n        return this._restore_object_instance_variables(obj, instance);\n    }\n\n    _restore_object_instance_variables(obj, instance) {\n        const has_tag = unpickler.has_tag;\n        const restore_key = this._restore_key_fn();\n        const keys = [];\n        for (const k in obj) {\n            if ({}.hasOwnProperty.call(obj, k)) {\n                keys.push(k);\n            }\n        }\n        keys.sort();\n        for (let i = 0; i < keys.length; i++) {\n            let k = keys[i];\n            if (tags.RESERVED.indexOf(k) !== -1) {\n                continue;\n            }\n            const v = obj[k];\n            this._namestack.push(k);\n            k = restore_key(k);\n            let value;\n            if (v !== undefined && v !== null) {\n                value = this._restore(v);\n            }\n            // no setattr checks...\n            instance[k] = value;\n            this._namestack.pop();\n        }\n        if (has_tag(obj, tags.SEQ)) {\n            if (instance.push !== undefined) {\n                for (const v in obj[tags.SEQ]) {\n                    if (!({}.hasOwnProperty.call(obj[tags.SEQ], v))) {\n                        continue;\n                    }\n                    instance.push(this._restore(v));\n                }\n            } // no .add ...\n        }\n\n        if (has_tag(obj, tags.STATE)) {\n            instance = this._restore_state(obj, instance);\n        }\n        return instance;\n    }\n\n\n    _restore_state(obj, instance) {\n        // only if the JS object implements __setstate__\n        if (instance.__setstate__ !== undefined) {\n            const state = this._restore(obj[tags.STATE]);\n            instance.__setstate__(state);\n        } else {\n            instance = this._restore_object_instance_variables(obj[tags.STATE], instance);\n        }\n        return instance;\n    }\n\n    _restore_list(obj) {\n        const parent = [];\n        this._mkref(parent);\n        const children = [];\n        for (let i = 0; i < obj.length; i++) {\n            const v = obj[i];\n            const rest = this._restore(v);\n            children.push(rest);\n        }\n        parent.push(...children);\n        return parent;\n    }\n    _restore_tuple(obj) {\n        // JS having no difference between list, tuple, set -- returns Array\n        const children = [];\n        const tupleContents = obj[tags.TUPLE];\n        for (let i = 0; i < tupleContents.length; i++) {\n            children.push(this._restore(tupleContents[i]));\n        }\n        return children;\n    }\n\n    _restore_set(obj) {\n        // JS having no difference between list, tuple, set -- returns Array\n        // TODO: ES5 Sets!\n        const children = [];\n        const setContents = obj[tags.SET];\n        for (let i = 0; i < setContents.length; i++) {\n            children.push(this._restore(setContents[i]));\n        }\n        return children;\n    }\n\n    _restore_dict(obj) {\n        const data = {};\n        // var restore_key = this._restore_key_fn();\n        const keys = [];\n        for (const k in obj) {\n            if ({}.hasOwnProperty.call(obj, k)) {\n                keys.push(k);\n            }\n        }\n        keys.sort();\n        for (let i = 0; i < keys.length; i++) {\n            const k = keys[i];\n            const v = obj[k];\n\n            this._namestack.push(k);\n            data[k] = this._restore(v);\n            // no setattr checks...\n            this._namestack.pop();\n        }\n        return data;\n    }\n\n    _restore_key_fn() {\n        if (this.keys) {\n            return (key) => {\n                if (key.indexOf(tags.JSON_KEY) === 0) {\n                    key = unpickler.decode(key.slice(tags.JSON_KEY.length),\n                            this.handlers,\n                            { context: this,\n                              keys: this.keys,\n                              reset: false,\n                            }\n                    );\n                    return key;\n                } else {\n                    return key;\n                }\n            };\n        } else {\n            return (key) => key;\n        }\n    }\n\n//  _refname not needed...\n    _mkref(obj) {\n        // does not use id(obj) in javascript\n        this._objs.push(obj);\n        return obj;\n    }\n}\nunpickler.Unpickler = Unpickler;\n\n\nunpickler.getargs = function getargs(obj) {\n    const seq_list = obj[tags.SEQ];\n    const obj_dict = obj[tags.OBJECT];\n    if (seq_list === undefined || obj_dict === undefined) {\n        return [];\n    }\n    const typeref = unpickler.loadclass(obj_dict);\n    if (typeref === undefined) {\n        return [];\n    }\n    if (typeref._fields !== undefined) {\n        if (typeref._fields.length === seq_list.length) {\n            return seq_list;\n        }\n    }\n    return [];\n};\n\nunpickler.loadclass = function loadclass(module_and_name) {\n    const main_check = '__main__.';\n    if (module_and_name.indexOf(main_check) === 0) {\n        module_and_name = module_and_name.slice(main_check.length);\n    }\n    let parent = window;\n    const module_class_split = module_and_name.split('.');\n    for (let i = 0; i < module_class_split.length; i++) {\n        const this_module_or_class = module_class_split[i];\n        parent = parent[this_module_or_class];\n        if (parent === undefined) {\n            return parent;\n        }\n    }\n    return parent;\n};\n\nunpickler.has_tag = function has_tag(obj, tag) {\n    if ((typeof obj === 'object') && (obj !== null) &&\n            (obj[tag] !== undefined)) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\n// http://stackoverflow.com/questions/1606797/use-of-apply-with-new-operator-is-this-possible\nunpickler.construct = function construct(constructor, args) {\n    function F() {\n        return constructor.apply(this, args);\n    }\n    F.prototype = constructor.prototype;\n    return new F();\n};\n","import { util } from './util';\nimport { handlers } from './handlers';\nimport { tags } from './tags';\n\nexport const pickler = {};\n\npickler.encode = function encode(value, options) {\n    const params = {\n        unpicklable: false,\n        make_refs: true,\n        keys: false,\n        max_depth: undefined,\n        reset: true,\n        backend: undefined, // does nothing; python compat\n        context: undefined,\n    };\n\n    util.merge(params, options);\n    if (params.context === undefined) {\n        const outparams = {\n            unpicklable: params.unpicklable,\n            make_refs: params.make_refs,\n            keys: params.keys,\n            backend: params.backend,\n            max_depth: params.max_depth,\n        };\n        params.context = new pickler.Pickler(outparams);\n        const fixed_obj = params.context.flatten(value, params.reset);\n        return JSON.stringify(fixed_obj);\n    } else {\n        return undefined;\n    }\n};\n\nexport class Pickler {\n    constructor(options) {\n        const params = {\n            unpicklable: true,\n            make_refs: true,\n            max_depth: undefined,\n            backend: undefined,\n            keys: false,\n        };\n        util.merge(params, options);\n        this.unpicklable = params.unpicklable;\n        this.make_refs = params.make_refs;\n        this.backend = params.backend;\n        this.keys = params.keys;\n        this._depth = -1;\n        this._max_depth = params.max_depth;\n        this._objs = [];\n        this._seen = [];\n    }\n    reset() {\n        this._objs = [];\n        this._depth = -1;\n        this._seen = [];\n    }\n\n    _push() {\n        this._depth += 1;\n    }\n    _pop(value) {\n        this._depth -= 1;\n        if (this._depth === -1) {\n            this.reset();\n        }\n        return value;\n    }\n    _mkref(obj) {\n        const found_id = this._get_id_in_objs(obj);\n        // console.log(found_id);\n        if (found_id !== -1) {\n            return false;\n//          if (this.unpicklable == false || this.make_refs == false) {\n//          return true;\n//          } else {\n//          return false;\n//          }\n        }\n        this._objs.push(obj);\n        return true;\n    }\n    _get_id_in_objs(obj) {\n        const objLength = this._objs.length;\n//      console.log('sought obj', obj);\n//      console.log('stored objs: ', this._objs);\n        for (let i = 0; i < objLength; i++) {\n            if (obj === this._objs[i]) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    _getref(obj) {\n        const wrap_obj =  {};\n        wrap_obj[tags.ID] = this._get_id_in_objs(obj);\n        return wrap_obj;\n    }\n    flatten(obj, reset) {\n        if (reset === undefined) {\n            reset = true;\n        }\n        if (reset) {\n            this.reset();\n        }\n        const flatOut = this._flatten(obj);\n        console.log(this._objs);\n        return flatOut;\n    }\n    _flatten(obj) {\n        this._push();\n        return this._pop(this._flatten_obj(obj));\n    }\n    _flatten_obj(obj) {\n        this._seen.push(obj);\n        const max_reached = (this._depth === this._max_depth);\n        if (max_reached || (this.make_refs === false && this._get_id_in_objs(obj) !== -1)) {\n            // no repr equivalent, use str;\n            return toString(obj);\n        } else {\n            const flattener = this._get_flattener(obj);\n            // console.log(flattener);\n            return flattener.call(this, obj);\n        }\n    }\n    _list_recurse(obj) {\n        const l = [];\n        for (let i = 0; i < obj.length; i++) {\n            l.push(this._flatten(obj[i]));\n        }\n        return l;\n    }\n    _get_flattener(obj) {\n        if (util.is_primitive(obj)) {\n            return obj => obj;\n        }\n        if (util.is_list(obj)) {\n            if (this._mkref(obj)) {\n                return this._list_recurse;\n            } else {\n                this._push();\n                return this._getref;\n            }\n        }\n        if (util.is_tuple(obj)) {\n            if (!this.unpicklable) {\n                return this._list_recurse;\n            } else {\n                return (obj) => {\n                    const obj_wrap = {};\n                    obj_wrap[tags.TUPLE] = this._list_recurse(obj);\n                };\n            }\n        }\n        if (util.is_set(obj)) {\n            if (!this.unpicklable) {\n                return this._list_recurse;\n            } else {\n                return (obj) => {\n                    const obj_wrap = {};\n                    obj_wrap[tags.SET] = this._list_recurse(obj);\n                };\n            }\n        }\n        // better -- translate as object...\n        // if (util.is_dictionary(obj)) {\n        //    return this._flatten_dict_obj;\n        // }\n        // if (util.is_type(obj)) {\n        //    return _mktyperef;\n        // }\n        if (util.is_object(obj)) {\n            return this._ref_obj_instance;\n        }\n        console.log('no flattener for ', obj, ' of type ', typeof obj);\n        return undefined;\n    }\n    _ref_obj_instance(obj) {\n        if (this._mkref(obj)) {\n            return this._flatten_obj_instance(obj);\n        }\n        return this._getref(obj);\n    }\n    _flatten_obj_instance(obj) {\n        const data = {};\n        const has_class = (obj[tags.PY_CLASS] !== undefined); // ? or ...\n        const has_dict = true;\n        // const has_slots = false;\n        const has_getstate = (obj.__getstate__ !== undefined);\n\n        if (has_class && util.is_module(obj) === false) {\n            const fullModuleName = pickler._getclassdetail(obj);\n            if (this.unpicklable) {\n                data[tags.OBJECT] = fullModuleName;\n                console.log(data);\n            }\n            const handler = handlers[fullModuleName];\n            if (handler !== undefined) {\n                handler.flatten(obj, data);\n            }\n        }\n\n        if (util.is_module(obj)) {\n            // todo if possible to have this happen...\n        }\n\n        if (util.is_dictionary_subclass(obj)) {\n            // todo if possible to have this happen...\n        }\n        if (has_dict) {\n            // where every object currently ends up\n            if (util.is_sequence_subclass(obj)) {\n                // todo if possible to be...\n            }\n            if (has_getstate) {\n                return this._getstate(obj, data);\n            }\n            return this._flatten_dict_obj(obj, data);\n        }\n        return undefined;\n\n        // todo: is_sequence_subclass\n        // todo: is_noncomplex\n        // todo: has_slots...\n    }\n    _flatten_dict_obj(obj, data) {\n        if (data === undefined) {\n            data = new obj.prototype.constructor();\n        }\n        const key_index = [];\n        for (const key in obj) {\n            if ({}.hasOwnProperty.call(obj, key)) {\n                key_index.push(key);\n            }\n        }\n        for (let i = 0; i < key_index.length; i++) {\n            const key = key_index[i];\n            const value = obj[key];\n            if (key === tags.PY_CLASS) {\n                continue;\n            }\n            this._flatten_key_value_pair(key, value, data);\n        }\n        // default_factory...\n        return data;\n    }\n\n\n//  _flatten_newstyle_with_slots\n    _flatten_key_value_pair(k, v, data) {\n        if (util.is_picklable(k, v) === false) {\n            return data;\n        }\n        // assume all keys are strings -- Javascript;\n        data[k] = this._flatten(v);\n        return data;\n    }\n\n//  pickler.Pickler.prototype._flatten_sequence_obj = function () {};\n    _getstate(obj, data) {\n        const state = this._flatten_obj(obj.__getstate__());\n        if (this.unpicklable) {\n            data[tags.STATE] = state;\n        } else {\n            data = state;\n        }\n        return data;\n    }\n\n//  pickler._mktyperef = function (obj) {};\n    _getclassdetail(obj) {\n        // just returns the Python class name\n        return obj[tags.PY_CLASS];\n    }\n}\npickler.Pickler = Pickler;\n\n","/**\n * jsonpickleJS -- interpretation of python jsonpickle in Javascript\n * main.js -- main loader -- this should be the only file that most users care about.\n *\n * Copyright (c) 2014-16 Michael Scott Cuthbert and cuthbertLab\n */\nimport { unpickler } from './unpickler';\nimport { pickler } from './pickler';\nimport { util } from './util';\nimport { tags } from './tags';\nimport { handlers } from './handlers';\n\nconst jsonpickle = {};\njsonpickle.pickler = pickler;\njsonpickle.unpickler = unpickler;\njsonpickle.util = util;\njsonpickle.tags = tags;\njsonpickle.handlers = handlers;\n\njsonpickle.encode = function jsonpickle_encode(value, unpicklable, make_refs,\n        keys, max_depth, backend) {\n    if (unpicklable === undefined) {\n        unpicklable = true;\n    }\n    if (make_refs === undefined) {\n        make_refs = true;\n    }\n    if (keys === undefined) {\n        keys = false;\n    }\n    const options = {\n        unpicklable,\n        make_refs,\n        keys,\n        max_depth,\n        backend,\n    };\n    return pickler.encode(value, options);\n};\n\n\njsonpickle.decode = function jsonpickle_decode(string, backend, keys) {\n    if (keys === undefined) {\n        keys = false;\n    }\n    return unpickler.decode(string, backend, keys);\n};\n\nwindow.jsonpickle = {}; // global for now.\nexport default jsonpickle;\n"],"names":[],"mappings":"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"}